---
import CardLong from "@components/CardLong.astro";
import CardSmall from "@components/CardSmall.astro";
import Layout from "@layouts/Layout.astro";

const allPosts = await Astro.glob("./posts/*.md");
---

<Layout title="39rep">
  <main class="flex flex-col items-center">
    <!-- Posts -->
    <div class="w-full">
      <div class="flex items-end">
        <h1 class="text-2xl font-bold">Latest Posts</h1>
        <a href="/posts/" class="ml-2 hover:text-blue-700 hover:scale-105"
          >→All Posts</a
        >
      </div>
      <ul class="grid grid-cols-2 justify-center justify-items-stretch gap-4">
        {
          allPosts
            .slice(-2)
            .reverse()
            .map((post) => (
              <CardSmall
                title={post.frontmatter.title}
                description={post.frontmatter.description}
                img_src={post.frontmatter.image.url}
                alt={post.frontmatter.alt}
                href={post.url ? post.url : "404"}
              />
            ))
        }
      </ul>
    </div>

    <!-- Likes -->
    <div class="mt-10 w-full">
      <h1 class="text-2xl font-bold">Likes</h1>
      <ul class="grid grid-cols-2 justify-center justify-items-stretch gap-4">
        <CardLong
          title="初音ミク"
          description="宇宙で歌うVirtualSinger"
          img_src="/assets/space_miku.png"
          alt="HatsuneMiku"
        />
        <CardSmall
          title="タイトル"
          description="説明など何かあれば"
          img_src="/assets/space_miku.png"
          alt="てすとだよ"
          href="#"
        />
        <CardSmall
          title="タイトル2"
          description="説明など何かあれば2"
          img_src="/assets/3baka.jpg"
          alt="てすとだよ2"
          href="#"
        />
      </ul>
    </div>
  </main>
</Layout>
